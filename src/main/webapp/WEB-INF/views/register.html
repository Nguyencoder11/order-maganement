<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký tài khoản</title>
    <link rel="stylesheet" th:href="@{/resources/css/common/common.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
          integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
      <div class="cover">
          <form th:action="@{/register}" th:object="${user}" method="post">
              <h1 style="text-align: center; margin-bottom: 16px">Đăng ký tài khoản</h1>
              <div class="form-group">
                  <label for="username">Email</label>
                  <input type="email" id="email" th:field="*{email}" required />
              </div>
              <div class="form-group">
                  <label for="username">Tên đăng nhập</label>
                  <input type="text" id="username" th:field="*{username}" required />
              </div>
              <div class="form-group">
                  <label for="password">Mật khẩu</label>
                  <input type="password" id="password" th:field="*{password}" required />
              </div>
              <div class="form-group">
                  <label for="confirm-password">Nhập lại mật khẩu</label>
                  <input type="password" id="confirm-password" name="confirm-password" required />
              </div>
              <div style="height: 20px;"></div>
              <button type="submit" class="btn btn-primary">Đăng ký</button>
              <p style="text-align: center; margin: 0.375rem 0; margin-top: 16px;">Bạn đã có tài khoản? <a th:href="@{/auth/login}">Đăng nhập</a></p>
              <p class="error" th:if="${error}" style="color: red; text-align: center; margin: 0.375rem 0; margin-top: 16px;" th:text="${error}"></p>
          </form>
      </div>

      <script>
          const inputs = document.querySelectorAll('input')
          const errorMessage = document.querySelector('.error')
          inputs.forEach(input => {
              input.addEventListener('focus', () => {
                if (errorMessage) {
                    errorMessage.style.display = 'none'
                }
              })
          })
      </script>
  </body>
</html>
